
UDP шлюз для дискретного ввода-вывода
Возможности:
 -работает с микросхемами(только один из видов одновременно): MCP23008, MCP23017, PCF8574, GPIO выходы процессора
 -дискретный ввод
 -дискретный вывод
 -генерация ШИМ сигнала
1 Установка
1.1 Требования
Это приложение использует i2c драйвер для управления некоторыми микросхемами, который должен быть установлен в операционной
системе. Скрипт-установщик работает в командной оболочке bash.
Если это определено в файле CONFIG_FILE из main.h, то должен быть запущен демон lck (блокировщик), без разблокировки которого
данный демон не выйдет в рабочий режим. 

1.2 Настройки:
файл build.sh:
- место установки исполняемого файла: константа INST_DIR
- место установки файла конфигурации: константа CONF_DIR (должна соответствовать CONF_DIR из main.h)
см. ./lib/gpio/README
1.3 Команды для установки:
cd qwu74
Полная установка:
sudo ./build.sh full
Для тестирования (файлы не копируются за пределы текущей папки):
sudo ./build.sh part_debug

2 Настройка перед запуском
Общие настройки демон читает из файла CONFIG_FILE (main.h),
 где
 port - порт (должен быть уникальным в рамках хоста);
 cd_sec - продолжительность цикла контроля программ в секундах
 cd_nsec - продолжительность цикла контроля программ в наносекундах
 device_name - имя используемого устройства (см. файл main.h константы DEVICE_*)
 db_data_path - путь к файлу с программами для этого демона
В папке ./db/sql находятся структуры данных, используемые этим приложением.
В папке ./db находятся готовые базы данных для этого приложения. Для их редактирования
 удобно пользоваться программой Sqliteman.
В файл ./db/data.db нужно записать программы для этого демона.

3 Запуск
При полной установке запускается автоматически, вмести с операционной системой.
sudo qwu74
Если приложение установлено для тестирования:
sudo ./qwu74_dbg

4 Управление
4.1 Список команд
см. ./util.c printHelp()

4.2 Графический интерфейс пользователя
для отправки общих для всех демонов команд:
https://github.com/arinichevN/app_cl 

4.3 Примеры
Для рассылки udp пакетов используется утилита udpcl (https://github.com/arinichevN/udpcl)
Утилита netcat не подходит, так как разрывает пакеты, встречая символ '\n'
Параметры утилиты udpcl следует заменить на свои.
перезагрузка с чтением всех настроек:
udpcl ars '' 192.168.1.250 49161 1
установить коэффициенты заполнения для пинов №1 и №2:
udpcl sdcpwm '1\t30\n2\t50' 192.168.1.250 49161 1

